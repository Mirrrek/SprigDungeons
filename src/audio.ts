const tunes = [
    {
        name: 'menu-move', tune: `
37.5: B4^37.5 + E4^37.5 + C4^37.5 + F4~37.5 + A4~37.5,
1162.5`
    },
    {
        name: 'menu-select', tune: `
100: G4~100,
100: D5~100,
3000`
    },
    {
        name: 'move', tune: `
50: F4^50,
1550`
    },
    {
        name: 'katana-swoosh', tune: `
37.5: E4~37.5 + D4^37.5 + B4~37.5,
37.5: D4~37.5 + A4~37.5,
1125`
    },
    {
        name: 'shoot-handgun', tune: `
50: E4-50 + F4-50 + C4-50 + D4-50 + E5/50,
50: F4-50 + D4-50 + E5/50,
1500`
    },
    {
        name: 'shoot-rifle', tune: `
50: G4/50 + F4^50 + D4^50 + E4-50 + C4-50,
50: E4-50 + C4-50 + G4/50 + F4-50 + D4-50,
1500`
    },
    {
        name: 'shoot-shotgun', tune: `
50: F4-50 + E4-50 + D4-50 + C4-50 + B4/50,
50: F4-50 + D4-50 + E4-50 + C4-50 + B4/50,
1500`
    },
    {
        name: 'pickup', tune: `
83.33333333333333: C5~83.33333333333333 + C4^83.33333333333333,
83.33333333333333: E5~83.33333333333333 + C4^83.33333333333333,
83.33333333333333: G5~83.33333333333333 + C4^83.33333333333333,
2416.6666666666665`
    },
    {
        name: 'hit', tune: `
60: F4-60 + E4-60 + D4-60 + C4-60,
60: D4-60 + E4-60 + C4-60,
60: C4-60,
1740`
    },
    {
        name: 'hurt', tune: `
37.5: D5-37.5 + C5-37.5 + G4-37.5 + E4-37.5 + C4-37.5,
37.5: C5/37.5 + G4/37.5 + E4/37.5 + D5/37.5 + B5/37.5,
1125`
    },
    {
        name: 'death', tune: `
125: F5~125,
125: E5~125,
125: D5~125,
125: C5~125,
125: B4~125,
125: A4~125,
3250`
    },
    {
        name: 'spawn', tune: `
50,
50: C4~50,
50: D4~50,
50: E4~50,
50: F4~50,
50: G4~50,
1300`
    },
    {
        name: 'level-start', tune: `
100: D4~100 + E4~100 + F4~100 + G4~100 + C4^100,
100,
100: D4~100 + E4~100 + F4~100 + C4^100,
200,
100: C4^100 + D4~100 + E4~100,
2600`
    },
    {
        name: 'level-cleared', tune: `
83.33333333333333: E4~83.33333333333333,
83.33333333333333: A4~83.33333333333333,
83.33333333333333: D5~83.33333333333333,
83.33333333333333: E5~83.33333333333333,
2333.333333333333`
    },
    {
        name: 'theme-main', tune: `
375: F4~375 + A4~375 + D5~375 + D4^375 + A5~375,
375: E5~375,
375: E5~375,
375: E5~375,
375: G5~375 + D5~375 + F4~375 + B4^375,
750,
375: B4^375,
375: E4~375 + A4~375 + D5~375 + G5~375 + C5^375,
375: C5~375,
375: C5~375,
375: C5~375,
375: C5~375 + E4~375 + A5~375,
750,
375: A5~375,
375: A5~375 + A4~375 + E5^375 + D4~375,
375: A5~375,
375: A5~375,
375: A5~375,
375: G4~375 + B4~375 + E5^375 + B5~375,
750,
375: E5~375,
375: B4^375 + G5~375 + E4~375,
375: B4~375 + E5~375,
375: B4~375 + G5~375,
375: B5~375 + G4~375,
375: E5^375 + A4~375 + A5~375,
375: A4~375,
375: C5~375,
375: E5~375`
    },
    {
        name: 'theme-death', tune: `
375: A4~375 + E5^375,
375: C4~375,
375: E4~375,
375: A4~375 + E5^375,
375: B4~375 + F5^375,
750,
375: D5~375 + G5^375,
375: C5~375 + E5^375,
375: B4~375 + D5^375,
375: C5~375 + E5^375,
375: D5~375 + F5^375,
375: C5~375 + E5^375,
375: B4~375,
375: A4~375,
375: B4~375,
375: A4~375 + C5^375,
375: C4~375,
375: E4~375,
375: A4~375 + C5^375,
375: B4~375 + D5^375,
375: E4~375 + C5^375,
375: A4~375 + B4^375,
375: B4~375 + C5^375,
375: A4^375 + E4~375,
375,
375: A4~375,
375: E4~375,
375: D4~375,
375: C4~375,
375: D4~375,
375: C4~375`
    }
] as const;

let enableSfx = true;

export default function play(name: typeof tunes[number]['name'], repeat: number = 1): Sprig.Playback {
    if (!enableSfx && !name.startsWith('theme-')) {
        return { end: () => { } };
    }
    return playTune(tunes.find((tune) => tune.name === name)!.tune, repeat);
}

export function setSfx(enabled: boolean): void {
    enableSfx = enabled;
}
